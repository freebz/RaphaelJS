<!DOCTYPE html>
<html>
  <head>
    <title>Red dot</title>
  </head>
  <body>
    <div id="container"></div>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    
    <div id="canvas"></div>
    
    <script type="text/javascript">

      var paper = Raphael(0, 0, 500, 500);
      paper.customAttributes.redness = function(num){
	  var val = 255 * (1 - num / 100);
	  // note that we do not directly operate on an object
	  // instead, we return the object of final attributes
	  return {fill: "rgb(255," + val + ", " + val + ")"};
      };

      paper.rect(10, 10, 50, 50).attr("redness", 50);
      paper.circle(50, 50, 20).attr({
	  redness: 25,
	  'stroke-width': 3
      });
	  
    </script>
  </body>
</html>
