<!DOCTYPE html>
<html>
  <head>
    <title>Red dot</title>
  </head>
  <body>
    <div id="container"></div>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    
    <input id="on_off" type="button" value="Hover ON" />
    <div id="canvas"></div>
    
    <script type="text/javascript">
      var hover_enabled = true;

      function toggleHover(){
	  if (hover_enabled){
	      this.value = "Hover OFF";
	      hover_enabled = false;
	  } else {
	      this.value = "Hover ON";
	      hover_enabled = true;
	  }
      }

      document.getElementById("on_off").onclick = toggleHover;

      var paper = Raphael("canvas", 500, 500);

      var mysquare = paper.rect(25, 25, 250, 250).attr("fill", "red");
      
      var mover = function(){
	  if (!hover_enabled){
	      return false;
	  }
	  this.attr("fill", "blue");
      }

      var mout = function(){
	  if (!hover_enabled){
	      return false;
	  }
	  this.attr("fill", "red");
      }
      
      mysquare.mouseover(mover).mouseout(mout).click(function(e){
	  this.attr("fill", "green");
	  this.unmouseover(mover);
	  this.unmouseout(mout);
      });

    </script>
  </body>
</html>
